!function(a){a.jscontent_shortcode_tree=function(b,c){function d(b){var c={};if(b){var d=0;a.each(b,function(a){c[d]=a,d++})}return c}function e(b,c){if(b&&c){var d=!1;return a.each(c,function(a,c){return b==c?(d=a,!1):void 0}),d}}function f(b){if(b){var c=0;return a.each(b,function(){c++}),c}}function g(b){if(b&&f(b)){var c,d={};a.extend(!0,d,b);var e=["background_image","background_color","background_style","border_top_width","border_bottom_width","border_right_width","border_left_width","border_color","border_style","margin_top","margin_bottom","margin_right","margin_left","padding_top","padding_bottom","padding_right","padding_left"],g=["el_class","col_lg_offset","col_md_offset","col_sm_offset","col_xs_offset","col_lg_size","col_md_size","col_xs_size","hidden_lg","hidden_md","hidden_sm","hidden_xs"],h={};return a.map(d,function(b,d){var i=b;if(i.prepare_params={},i.docs={},i.docs.css={},"row"==b.element_id||"column"==b.element_id){var j="",k="";if(b.params&&f(b.params)&&a.each(b.params,function(b,c){if(-1!=a.inArray(b,e)||-1!=a.inArray(b,g)){if(c)if("background_image"==b){var d=c;d.match("/http/m")||(d=s+c),j+=b.replace("_","-")+": url("+d+"); "}else"background_style"==b?"cover"==c||"contain"==c?j+="background-size: "+c+"; ":("repeat"==c||"no-repeat"==c)&&(j+="background-repeat: "+c+"; "):j+=b.replace("_","-")+": "+c+"; ";-1!=a.inArray(b,g)&&(k+=c+" ")}else i.prepare_params[b]=c}),j.trim().length){for(var l=new Date,m=l.getTime();m==c;){var n=new Date;m=n.getTime()}c=m,i.prepare_params.css_class=".tz_custom_css_"+m+"{"+j.trim()+"}",i.docs.css=".tz_custom_css_"+m+"{"+j.trim()+"}"}else i.prepare_params.css_class="";i.prepare_params.el_class=k.trim()}else i.prepare_params=b.params;if(i.prepare_params&&"object"==typeof i.prepare_params&&f(i.prepare_params)){var o="",p="";a.each(i.prepare_params,function(a,b){a&&("editor"!=a?o+=b&&"object"==typeof b?" "+a+'="'+htmlEntities(b.join(" ")).replace(/\"/gm,"&quot;")+'"':" "+a+'="'+htmlEntities(b).replace(/\"/gm,"&quot;")+'"':p=stripslashes(html_entity_decode(b.replace(/&nbsp;/gm,"").trim())))}),i.shortcode.match(/(\[\w+)(.*?)(\])(.*?)(\[\/\w+\])/m)&&(i.shortcode=i.shortcode.replace(/(\[\w+)(.*?)(\])(.*?)(\[\/\w+\])/m,"$1"+o+"$3"+p+"$5")),i.shortcode.match(/(\{tz_element)(.*?)(\})(.*?)(\{\/tz_element\})/m)&&(i.shortcode=i.shortcode.replace(/(\{tz_element)(.*?)(\})(.*?)(\{\/tz_element\})/m,"$1"+o+"$3"+p+"$5"))}h[d]=i}),d}return b}function h(){var b={},c={};if(r){r=g(r),c=d(r);var f=1;a.each(r,function(d,g){var h=a.extend({},g),i=e(g.parent_id,c);i&&a.isNumeric(i)?(h.parent_id=parseInt(i)+1,o[f]=parseInt(i)+1):(h.parent_id=0,o[f]=0),b[f]=h,f++}),b&&(b[0]={parent_id:-1,shortcode:""},o[0]=n,r=b)}}function i(a){return 0==f(a)}function j(a,b){return i(a,b)?n:0}function k(a,b,c){var d,e;if(0>a)return n;for(d=a+1,e=0;d<=f(b)-1&&!e;)c[d]==a?e=1:d+=1;return e?d:n}function l(a,b,c){var d,e,g;if(0>a)return n;for(e=c[a],d=a+1,g=0;d<=f(b)-1&&!g;)c[d]==e?g=1:d+=1;return g?d:n}function m(b,c,d){var e;for(e=k(b,c,d);e!=n;)m(e,c,d),e=l(e,c,d);if(a.isNumeric(d[b])&&-1!=d[b]&&(p&&!p[d[b]]&&(p[d[b]]=c[d[b]].shortcode),p&&p[d[b]]&&p[d[b]].match(/\[\/\w+\]$|\{\/\w+\}$/m)&&(p[b]?p[d[b]]=p[d[b]].replace(/(\[\/\w+\]$|\{\/\w+\}$)/m,p[b]+"$1"):c[b]&&(p[d[b]]=p[d[b]].replace(/(\[\/\w+\]$|\{\/\w+\}$)/m,c[b].shortcode+"$1"))),0==d[b])){if("readmore"==c[b].element_id)return q+=c[b].shortcode,!1;p[b]&&(q+=p[b])}}const n=-1;var o={},p={},q="",r={},s=c;return r=b,h(),m(j(r),r,o),q}}(jQuery);